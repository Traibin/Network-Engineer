 X.25标准分为3个协议层，物理层、链路层和分组层，分别对应于IOS/OSI参考模型的底三层

流量控制和差错控制
1、停等协议
工作原理：发送站发出一帧，然后等待应答信号到达后再发送下一帧；接收站每收到一帧后发送一个应答信号（ACK），
表示愿意接收下一帧，如果接收站不应答，则发送站必须等待
2、滑动窗口协议
允许连续发送多个帧而无须等待应答
3、差错控制
差错控制是检测和纠正传输错误的机制，应付差错的方法如下
（1）肯定应答：接收器对收到的帧校验无误后送回肯定应答信号ACK，发送器收到肯定应答信号后可继续发送后续帧
（2）否定应答重发：接收器收到一个帧后经检验发现错误，则送回一个否定应答信号NAK，发送器必须重新发送出错帧
（3）超时重发：发送器从发送第一个帧开始计时，在一定时间没有收到关于该帧的应答信号，则认为该帧丢失并重新发送
这种技术的主要思想是利用差错检测技术自动地对丢失帧和错误帧请求重发，因而叫作ARQ技术，可以组成3种形式的ARQ协议
1）停等ARQ协议
停等ARQ协议是停等流控技术和自动请求重发技术结合，根据停等ARQ协议，发送站发出一帧后必须等待应答信号，收到
肯定应答信号ACK后继续发送下一帧；收到否定应答信号NAK后重发该帧；若在一定时间没有收到应答信号也必须重发。发送
站需要有一个计时器，每发送一帧就开始计时，计时长度不能小于信号在线路上的一个来回时间。另外在停等ARQ协议中，只要
能区分两个相邻的帧是否重复就可以了，因此只用0和1两个编号
2）选择重发ARQ协议
是滑动窗口技术和自动请求重发技术的结合，根据出错帧和丢失帧处理上的不同，连续ARQ协议分为
选择重发ARQ（应答信号SREJ3）协议和后退N帧ARQ协议（应答信号REJ3）


HDLC协议
数据链路控制协议分为两大类：面向字符的协议和面向位的协议
HDLC是一种面向位（比特）的同步链路控制协议
HDLC的基本配置
定义了3种类型的站、2种链路配置和3种数据传输方式
3种类型的站
（1）主站：对链路进行控制，主站发出的帧叫命令帧
（2）从站：在主站的控制下进行操作，从站发出的帧叫响应帧
（3）复合站：具有主站和从站的双重功能，复合站既可以发送命令也可以发出响应帧
2路链路配置
（1）不平衡配置：适用于点对点和点对多点链路，这种链路由一个主站和一个或多个从站组成，支持全双工和半双工传输
（2）平衡配置：仅用于点对点链路，这种配置由两个复合站组成，支持全双工和半双工传输
3种数据传输
（1）正常响应方式（NRM），适用于不平衡配置，只有主站能启动数据传输过程，从站收到主站的询问命令时才能发送数据
（2）异步平衡方式（ABM），适用于平衡配置，任何一个复合站都无须取得另一个复合站的允许就可以启动数据传输过程
（3）异步响应方式（ARM），适用于不平衡配置，从站无须取得主站的明确指示就可以启动数据传输，主站的责任只是对线路进行管理
HDLC帧结构
通常使用CRC-16、CRC-32校验，帧边界为“01111110”
名称		帧头		地址		控制		数据		校验		帧尾
比特		8		8		8		可变长	16或32	8
结构		F		A		C		INFO	FCS		F
（1）帧标志F。HDLC用一种特殊的位模式01111110作为帧边界的标志。
由于帧中间出现位模式01111110时也会被当作标志，从而破坏了帧的同步，所以要使用位的填充技术。发送站的数据位序列中一旦
发现0后有5个“1”，则在第七位插入一个“0”，这样就保证了传输的数据中不会出现帧相同的位模式。接收站则进行相反的操作：在接受的位序列中如果发现0后有5个“1”，则检查第七位，若第七位为0则删除，若第七位是1且第八位为0，则认为是帧结尾的标志。若第七位和第八位都是1，则认为是发送站的停止信号。
（2）地址字段A。地址字段用于标识从站的地址，用在点对多点链路中，地址通常是8位长，然而经过协商之后，可以采用更长的扩展地址。每一个8位组的最低位表示该8位组是否是地址字段的结局：若为1，表示是最后的8位组：若为0，则不是。所有的8位组的其余7位组成了整个扩展地址字段。全为1的8位组（11111111）表示广播地址
（3）控制字段C。HDLC定义3种帧，可根据控制字段的格式区分。信息帧（I帧）承载着要传送的数据，此外还捎带着流量控制和差错控制的应答信号。管理帧（S帧）用于提供ARQ控制信息，当不使用捎带机制时要用管理帧控制传输过程。无编号帧提供建立、释放等链路控制功能，以及少量信息的无连接传输过程。
（4）信息字段（INFO）只有I帧和某些无编号帧含有信息字段。
（5）帧校验序列FCS。FCS中含有各个字段的校验（标志字段除外）。通常使用CRC-CCITT标准产生16位校验序列，有时也使用CRC-32产生32位校验序列

HDLC帧格式及控制字段
标志	1字节	1字节	1字节		≥0字节		2字节	标志1字节
01111110	地址		控制字段		DATA		FCS		01111110
控制字段
I帧：信息帧		0	|		N(S)		|	P/F  |    N(R)
S帧：监控帧		1     	|	   0	|        S	|	P/F  |    N(R)
U帧：无编号帧	1	|	   1	|       M	|	P/F  |      M
比特序号			1	|	   2	|     3    4	|	5     	|6  7   8










